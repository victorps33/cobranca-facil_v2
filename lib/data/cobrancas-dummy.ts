export interface Cobranca {
  id: string;
  cliente: string;
  clienteId: string;
  categoria: "Royalties" | "FNP" | "Taxa de Franquia" | "Produto" | "Serviço";
  descricao: string;
  dataEmissao: string;
  dataVencimento: string;
  dataPagamento?: string;
  valorOriginal: number;
  valorPago: number;
  valorAberto: number;
  formaPagamento: "Boleto" | "Pix" | "Cartão";
  status: "Aberta" | "Vencida" | "Paga" | "Cancelada";
  nfEmitida: boolean;
  competencia: string;
}

export const cobrancasDummy: Cobranca[] = [
  {
    id: "COB-2026-001",
    cliente: "Franquia Morumbi",
    clienteId: "c1a2b3c4-d5e6-7890-abcd-ef1234567890",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    dataPagamento: "2026-02-12",
    valorOriginal: 12500,
    valorPago: 12500,
    valorAberto: 0,
    formaPagamento: "Pix",
    status: "Paga",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-002",
    cliente: "Franquia Morumbi",
    clienteId: "c1a2b3c4-d5e6-7890-abcd-ef1234567890",
    categoria: "FNP",
    descricao: "Fundo Nacional de Propaganda - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    dataPagamento: "2026-02-12",
    valorOriginal: 3800,
    valorPago: 3800,
    valorAberto: 0,
    formaPagamento: "Pix",
    status: "Paga",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-003",
    cliente: "Franquia Vila Mariana",
    clienteId: "c2b3c4d5-e6f7-8901-bcde-f23456789012",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    valorOriginal: 9800,
    valorPago: 0,
    valorAberto: 9800,
    formaPagamento: "Boleto",
    status: "Aberta",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-004",
    cliente: "Franquia Santo Amaro",
    clienteId: "c3c4d5e6-f789-0123-cdef-345678901234",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    dataPagamento: "2026-02-08",
    valorOriginal: 7200,
    valorPago: 7200,
    valorAberto: 0,
    formaPagamento: "Pix",
    status: "Paga",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-005",
    cliente: "Franquia Campo Belo",
    clienteId: "c4d5e6f7-8901-2345-def0-456789012345",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Janeiro 2026",
    dataEmissao: "2026-01-01",
    dataVencimento: "2026-01-15",
    valorOriginal: 6500,
    valorPago: 0,
    valorAberto: 6500,
    formaPagamento: "Boleto",
    status: "Vencida",
    nfEmitida: true,
    competencia: "Jan/2026",
  },
  {
    id: "COB-2026-006",
    cliente: "Franquia Campo Belo",
    clienteId: "c4d5e6f7-8901-2345-def0-456789012345",
    categoria: "FNP",
    descricao: "Fundo Nacional de Propaganda - Janeiro 2026",
    dataEmissao: "2026-01-01",
    dataVencimento: "2026-01-15",
    valorOriginal: 1950,
    valorPago: 0,
    valorAberto: 1950,
    formaPagamento: "Boleto",
    status: "Vencida",
    nfEmitida: true,
    competencia: "Jan/2026",
  },
  {
    id: "COB-2026-007",
    cliente: "Franquia Itaim Bibi",
    clienteId: "c5e6f789-0123-4567-ef01-567890123456",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    dataPagamento: "2026-02-10",
    valorOriginal: 15600,
    valorPago: 15600,
    valorAberto: 0,
    formaPagamento: "Cartão",
    status: "Paga",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-008",
    cliente: "Franquia Moema",
    clienteId: "c6f78901-2345-6789-f012-678901234567",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    valorOriginal: 11200,
    valorPago: 0,
    valorAberto: 11200,
    formaPagamento: "Boleto",
    status: "Aberta",
    nfEmitida: false,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-009",
    cliente: "Franquia Recife",
    clienteId: "c7890123-4567-8901-0123-789012345678",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Dezembro 2025",
    dataEmissao: "2025-12-01",
    dataVencimento: "2025-12-15",
    valorOriginal: 8900,
    valorPago: 0,
    valorAberto: 8900,
    formaPagamento: "Boleto",
    status: "Vencida",
    nfEmitida: true,
    competencia: "Dez/2025",
  },
  {
    id: "COB-2026-010",
    cliente: "Franquia Recife",
    clienteId: "c7890123-4567-8901-0123-789012345678",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Janeiro 2026",
    dataEmissao: "2026-01-01",
    dataVencimento: "2026-01-15",
    valorOriginal: 8900,
    valorPago: 0,
    valorAberto: 8900,
    formaPagamento: "Boleto",
    status: "Vencida",
    nfEmitida: true,
    competencia: "Jan/2026",
  },
  {
    id: "COB-2026-011",
    cliente: "Franquia Fortaleza",
    clienteId: "c8901234-5678-9012-1234-890123456789",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Janeiro 2026",
    dataEmissao: "2026-01-01",
    dataVencimento: "2026-01-15",
    valorOriginal: 7600,
    valorPago: 0,
    valorAberto: 7600,
    formaPagamento: "Boleto",
    status: "Vencida",
    nfEmitida: true,
    competencia: "Jan/2026",
  },
  {
    id: "COB-2026-012",
    cliente: "Franquia Salvador",
    clienteId: "c9012345-6789-0123-2345-901234567890",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    valorOriginal: 6800,
    valorPago: 0,
    valorAberto: 6800,
    formaPagamento: "Pix",
    status: "Aberta",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-013",
    cliente: "Franquia Curitiba",
    clienteId: "ca123456-7890-1234-3456-012345678901",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    dataPagamento: "2026-02-14",
    valorOriginal: 9350,
    valorPago: 9350,
    valorAberto: 0,
    formaPagamento: "Pix",
    status: "Paga",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-014",
    cliente: "Franquia Porto Alegre",
    clienteId: "cb234567-8901-2345-4567-123456789012",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    valorOriginal: 6700,
    valorPago: 0,
    valorAberto: 6700,
    formaPagamento: "Boleto",
    status: "Aberta",
    nfEmitida: false,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-015",
    cliente: "Franquia Belo Horizonte",
    clienteId: "cc345678-9012-3456-5678-234567890123",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    dataPagamento: "2026-02-11",
    valorOriginal: 10750,
    valorPago: 10750,
    valorAberto: 0,
    formaPagamento: "Pix",
    status: "Paga",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-016",
    cliente: "Franquia Brasília",
    clienteId: "ce567890-1234-5678-7890-456789012345",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    dataPagamento: "2026-02-07",
    valorOriginal: 8900,
    valorPago: 8900,
    valorAberto: 0,
    formaPagamento: "Pix",
    status: "Paga",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-017",
    cliente: "Franquia Florianópolis",
    clienteId: "cf678901-2345-6789-8901-567890123456",
    categoria: "Royalties",
    descricao: "Cobrança de Royalties - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    valorOriginal: 4900,
    valorPago: 0,
    valorAberto: 4900,
    formaPagamento: "Boleto",
    status: "Aberta",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-018",
    cliente: "Franquia Manaus",
    clienteId: "cd456789-0123-4567-6789-345678901234",
    categoria: "Taxa de Franquia",
    descricao: "Taxa de Franquia - Parcela 3/12",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-10",
    valorOriginal: 5000,
    valorPago: 0,
    valorAberto: 5000,
    formaPagamento: "Boleto",
    status: "Vencida",
    nfEmitida: false,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-019",
    cliente: "Franquia Vila Mariana",
    clienteId: "c2b3c4d5-e6f7-8901-bcde-f23456789012",
    categoria: "FNP",
    descricao: "Fundo Nacional de Propaganda - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    valorOriginal: 2940,
    valorPago: 0,
    valorAberto: 2940,
    formaPagamento: "Boleto",
    status: "Aberta",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
  {
    id: "COB-2026-020",
    cliente: "Franquia Itaim Bibi",
    clienteId: "c5e6f789-0123-4567-ef01-567890123456",
    categoria: "FNP",
    descricao: "Fundo Nacional de Propaganda - Fevereiro 2026",
    dataEmissao: "2026-02-01",
    dataVencimento: "2026-02-15",
    dataPagamento: "2026-02-10",
    valorOriginal: 4680,
    valorPago: 4680,
    valorAberto: 0,
    formaPagamento: "Cartão",
    status: "Paga",
    nfEmitida: true,
    competencia: "Fev/2026",
  },
];

// Estatísticas agregadas
export function getCobrancasStats(cobrancas: Cobranca[]) {
  const total = cobrancas.length;
  const totalEmitido = cobrancas.reduce((acc, c) => acc + c.valorOriginal, 0);
  const totalPago = cobrancas.reduce((acc, c) => acc + c.valorPago, 0);
  const totalAberto = cobrancas.reduce((acc, c) => acc + c.valorAberto, 0);

  const byStatus = {
    aberta: cobrancas.filter((c) => c.status === "Aberta").length,
    vencida: cobrancas.filter((c) => c.status === "Vencida").length,
    paga: cobrancas.filter((c) => c.status === "Paga").length,
    cancelada: cobrancas.filter((c) => c.status === "Cancelada").length,
  };

  const byCategoria = {
    royalties: cobrancas.filter((c) => c.categoria === "Royalties").reduce((acc, c) => acc + c.valorOriginal, 0),
    fnp: cobrancas.filter((c) => c.categoria === "FNP").reduce((acc, c) => acc + c.valorOriginal, 0),
    taxaFranquia: cobrancas.filter((c) => c.categoria === "Taxa de Franquia").reduce((acc, c) => acc + c.valorOriginal, 0),
  };

  const byFormaPagamento = {
    boleto: cobrancas.filter((c) => c.formaPagamento === "Boleto").length,
    pix: cobrancas.filter((c) => c.formaPagamento === "Pix").length,
    cartao: cobrancas.filter((c) => c.formaPagamento === "Cartão").length,
  };

  const taxaRecebimento = totalEmitido > 0 ? (totalPago / totalEmitido) * 100 : 0;
  const valorVencido = cobrancas
    .filter((c) => c.status === "Vencida")
    .reduce((acc, c) => acc + c.valorAberto, 0);

  return {
    total,
    totalEmitido,
    totalPago,
    totalAberto,
    byStatus,
    byCategoria,
    byFormaPagamento,
    taxaRecebimento,
    valorVencido,
  };
}
