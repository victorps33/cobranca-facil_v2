export interface Franqueado {
  id: string;
  nome: string;
  razaoSocial: string;
  cnpj: string;
  email: string;
  telefone: string;
  cidade: string;
  estado: string;
  bairro: string;
  dataAbertura: string;
  responsavel: string;
  statusLoja: "Aberta" | "Fechada" | "Vendida";
  valorEmitido: number;
  valorRecebido: number;
  valorAberto: number;
  inadimplencia: number;
  status: "Saudável" | "Controlado" | "Exige Atenção" | "Crítico";
  pmr: number;
}

export const franqueadosDummy: Franqueado[] = [
  {
    id: "c1a2b3c4-d5e6-7890-abcd-ef1234567890",
    nome: "Franquia Morumbi",
    razaoSocial: "Morumbi Franchising Ltda",
    cnpj: "12.345.678/0001-01",
    email: "morumbi@franquia.com.br",
    telefone: "(11) 99100-0001",
    cidade: "São Paulo",
    estado: "SP",
    bairro: "Morumbi",
    dataAbertura: "2023-03-15",
    responsavel: "Carlos Mendes",
    statusLoja: "Aberta",
    valorEmitido: 285000,
    valorRecebido: 278000,
    valorAberto: 7000,
    inadimplencia: 0.025,
    status: "Saudável",
    pmr: 8,
  },
  {
    id: "c2b3c4d5-e6f7-8901-bcde-f23456789012",
    nome: "Franquia Vila Mariana",
    razaoSocial: "Vila Mariana Franchising Ltda",
    cnpj: "23.456.789/0001-02",
    email: "vilamariana@franquia.com.br",
    telefone: "(11) 99100-0002",
    cidade: "São Paulo",
    estado: "SP",
    bairro: "Vila Mariana",
    dataAbertura: "2023-05-22",
    responsavel: "Ana Beatriz Souza",
    statusLoja: "Aberta",
    valorEmitido: 198000,
    valorRecebido: 185000,
    valorAberto: 13000,
    inadimplencia: 0.066,
    status: "Controlado",
    pmr: 12,
  },
  {
    id: "c3c4d5e6-f789-0123-cdef-345678901234",
    nome: "Franquia Santo Amaro",
    razaoSocial: "Santo Amaro Franchising Ltda",
    cnpj: "34.567.890/0001-03",
    email: "santoamaro@franquia.com.br",
    telefone: "(11) 99100-0003",
    cidade: "São Paulo",
    estado: "SP",
    bairro: "Santo Amaro",
    dataAbertura: "2022-11-08",
    responsavel: "Roberto Lima",
    statusLoja: "Aberta",
    valorEmitido: 156000,
    valorRecebido: 156000,
    valorAberto: 0,
    inadimplencia: 0,
    status: "Saudável",
    pmr: 5,
  },
  {
    id: "c4d5e6f7-8901-2345-def0-456789012345",
    nome: "Franquia Campo Belo",
    razaoSocial: "Campo Belo Franchising Ltda",
    cnpj: "45.678.901/0001-04",
    email: "campobelo@franquia.com.br",
    telefone: "(11) 99100-0004",
    cidade: "São Paulo",
    estado: "SP",
    bairro: "Campo Belo",
    dataAbertura: "2024-01-10",
    responsavel: "Fernanda Oliveira",
    statusLoja: "Aberta",
    valorEmitido: 122000,
    valorRecebido: 98000,
    valorAberto: 24000,
    inadimplencia: 0.197,
    status: "Exige Atenção",
    pmr: 28,
  },
  {
    id: "c5e6f789-0123-4567-ef01-567890123456",
    nome: "Franquia Itaim Bibi",
    razaoSocial: "Itaim Bibi Franchising Ltda",
    cnpj: "56.789.012/0001-05",
    email: "itaimbibi@franquia.com.br",
    telefone: "(11) 99100-0005",
    cidade: "São Paulo",
    estado: "SP",
    bairro: "Itaim Bibi",
    dataAbertura: "2023-08-30",
    responsavel: "Lucas Ferreira",
    statusLoja: "Aberta",
    valorEmitido: 312000,
    valorRecebido: 305000,
    valorAberto: 7000,
    inadimplencia: 0.022,
    status: "Saudável",
    pmr: 7,
  },
  {
    id: "c6f78901-2345-6789-f012-678901234567",
    nome: "Franquia Moema",
    razaoSocial: "Moema Franchising Ltda",
    cnpj: "67.890.123/0001-06",
    email: "moema@franquia.com.br",
    telefone: "(11) 99100-0006",
    cidade: "São Paulo",
    estado: "SP",
    bairro: "Moema",
    dataAbertura: "2023-02-14",
    responsavel: "Mariana Costa",
    statusLoja: "Aberta",
    valorEmitido: 245000,
    valorRecebido: 238000,
    valorAberto: 7000,
    inadimplencia: 0.029,
    status: "Saudável",
    pmr: 9,
  },
  {
    id: "c7890123-4567-8901-0123-789012345678",
    nome: "Franquia Recife",
    razaoSocial: "Recife Franchising Ltda",
    cnpj: "78.901.234/0001-07",
    email: "recife@franquia.com.br",
    telefone: "(81) 99200-0007",
    cidade: "Recife",
    estado: "PE",
    bairro: "Boa Viagem",
    dataAbertura: "2023-06-18",
    responsavel: "Paulo Henrique Alves",
    statusLoja: "Fechada",
    valorEmitido: 89000,
    valorRecebido: 60500,
    valorAberto: 28500,
    inadimplencia: 0.32,
    status: "Crítico",
    pmr: 45,
  },
  {
    id: "c8901234-5678-9012-1234-890123456789",
    nome: "Franquia Fortaleza",
    razaoSocial: "Fortaleza Franchising Ltda",
    cnpj: "89.012.345/0001-08",
    email: "fortaleza@franquia.com.br",
    telefone: "(85) 99300-0008",
    cidade: "Fortaleza",
    estado: "CE",
    bairro: "Meireles",
    dataAbertura: "2023-09-25",
    responsavel: "Juliana Ribeiro",
    statusLoja: "Aberta",
    valorEmitido: 76000,
    valorRecebido: 57800,
    valorAberto: 18200,
    inadimplencia: 0.24,
    status: "Crítico",
    pmr: 38,
  },
  {
    id: "c9012345-6789-0123-2345-901234567890",
    nome: "Franquia Salvador",
    razaoSocial: "Salvador Franchising Ltda",
    cnpj: "90.123.456/0001-09",
    email: "salvador@franquia.com.br",
    telefone: "(71) 99400-0009",
    cidade: "Salvador",
    estado: "BA",
    bairro: "Pituba",
    dataAbertura: "2024-02-01",
    responsavel: "Marcos Vinícius Santos",
    statusLoja: "Aberta",
    valorEmitido: 68000,
    valorRecebido: 55200,
    valorAberto: 12800,
    inadimplencia: 0.188,
    status: "Exige Atenção",
    pmr: 32,
  },
  {
    id: "ca123456-7890-1234-3456-012345678901",
    nome: "Franquia Curitiba",
    razaoSocial: "Curitiba Franchising Ltda",
    cnpj: "01.234.567/0001-10",
    email: "curitiba@franquia.com.br",
    telefone: "(41) 99500-0010",
    cidade: "Curitiba",
    estado: "PR",
    bairro: "Batel",
    dataAbertura: "2022-07-12",
    responsavel: "Patrícia Gomes",
    statusLoja: "Aberta",
    valorEmitido: 187000,
    valorRecebido: 179800,
    valorAberto: 7200,
    inadimplencia: 0.039,
    status: "Controlado",
    pmr: 14,
  },
  {
    id: "cb234567-8901-2345-4567-123456789012",
    nome: "Franquia Porto Alegre",
    razaoSocial: "Porto Alegre Franchising Ltda",
    cnpj: "12.345.678/0001-11",
    email: "portoalegre@franquia.com.br",
    telefone: "(51) 99600-0011",
    cidade: "Porto Alegre",
    estado: "RS",
    bairro: "Moinhos de Vento",
    dataAbertura: "2023-04-05",
    responsavel: "Diego Nascimento",
    statusLoja: "Vendida",
    valorEmitido: 134000,
    valorRecebido: 128200,
    valorAberto: 5800,
    inadimplencia: 0.043,
    status: "Controlado",
    pmr: 15,
  },
  {
    id: "cc345678-9012-3456-5678-234567890123",
    nome: "Franquia Belo Horizonte",
    razaoSocial: "BH Franchising Ltda",
    cnpj: "23.456.789/0001-12",
    email: "bh@franquia.com.br",
    telefone: "(31) 99700-0012",
    cidade: "Belo Horizonte",
    estado: "MG",
    bairro: "Savassi",
    dataAbertura: "2023-01-20",
    responsavel: "Renata Almeida",
    statusLoja: "Aberta",
    valorEmitido: 215000,
    valorRecebido: 210000,
    valorAberto: 5000,
    inadimplencia: 0.023,
    status: "Saudável",
    pmr: 10,
  },
  {
    id: "cd456789-0123-4567-6789-345678901234",
    nome: "Franquia Manaus",
    razaoSocial: "Manaus Franchising Ltda",
    cnpj: "34.567.890/0001-13",
    email: "manaus@franquia.com.br",
    telefone: "(92) 99800-0013",
    cidade: "Manaus",
    estado: "AM",
    bairro: "Adrianópolis",
    dataAbertura: "2024-03-10",
    responsavel: "Thiago Pereira",
    statusLoja: "Fechada",
    valorEmitido: 52000,
    valorRecebido: 42500,
    valorAberto: 9500,
    inadimplencia: 0.183,
    status: "Exige Atenção",
    pmr: 25,
  },
  {
    id: "ce567890-1234-5678-7890-456789012345",
    nome: "Franquia Brasília",
    razaoSocial: "Brasília Franchising Ltda",
    cnpj: "45.678.901/0001-14",
    email: "brasilia@franquia.com.br",
    telefone: "(61) 99900-0014",
    cidade: "Brasília",
    estado: "DF",
    bairro: "Asa Sul",
    dataAbertura: "2022-12-03",
    responsavel: "Camila Rocha",
    statusLoja: "Aberta",
    valorEmitido: 178000,
    valorRecebido: 175000,
    valorAberto: 3000,
    inadimplencia: 0.017,
    status: "Saudável",
    pmr: 6,
  },
  {
    id: "cf678901-2345-6789-8901-567890123456",
    nome: "Franquia Florianópolis",
    razaoSocial: "Floripa Franchising Ltda",
    cnpj: "56.789.012/0001-15",
    email: "floripa@franquia.com.br",
    telefone: "(48) 99100-0015",
    cidade: "Florianópolis",
    estado: "SC",
    bairro: "Centro",
    dataAbertura: "2023-07-28",
    responsavel: "Eduardo Silva",
    statusLoja: "Aberta",
    valorEmitido: 98000,
    valorRecebido: 94000,
    valorAberto: 4000,
    inadimplencia: 0.041,
    status: "Controlado",
    pmr: 13,
  },
];

// Estatísticas agregadas
export function getFranqueadosStats(franqueados: Franqueado[]) {
  const total = franqueados.length;
  const totalEmitido = franqueados.reduce((acc, c) => acc + c.valorEmitido, 0);
  const totalRecebido = franqueados.reduce((acc, c) => acc + c.valorRecebido, 0);
  const totalAberto = franqueados.reduce((acc, c) => acc + c.valorAberto, 0);

  const byStatus = {
    saudavel: franqueados.filter((c) => c.status === "Saudável").length,
    controlado: franqueados.filter((c) => c.status === "Controlado").length,
    exigeAtencao: franqueados.filter((c) => c.status === "Exige Atenção").length,
    critico: franqueados.filter((c) => c.status === "Crítico").length,
  };

  const pmrMedio = franqueados.reduce((acc, c) => acc + c.pmr, 0) / total;

  return {
    total,
    totalEmitido,
    totalRecebido,
    totalAberto,
    byStatus,
    pmrMedio: Math.round(pmrMedio),
    taxaRecebimento: (totalRecebido / totalEmitido) * 100,
  };
}
